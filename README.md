# DRVI
DRVI is a group of virtual instrument widgets, which is based on Tkinter and Matplotlib,you can install it by:

pip install drvi

To easy for useing of drvi, we supply a APP designer and some examples here.


DRPythonIDE.py: an Python APP designer.
![DRPython](https://user-images.githubusercontent.com/9141129/193712249-f4e485d4-8567-4165-b5cd-c8a81e3a53de.gif)


and some examples of virtual instrument styles of Python APP that is designed by drvi package are also aviable.
![009_Time Waveform Analysis](https://user-images.githubusercontent.com/9141129/193711011-9578d7e3-0a2e-4802-80f7-5d76690e9475.gif)

A event driven and data driven architecture is includeed in the drvi package, which means a APP that is consist of drvi widgets and their callback functions can be driven by an event stream or a data stream. Only a few addCallBack is needed to link event streams and data stream, and then to form a program.
![drpy00d](https://user-images.githubusercontent.com/9141129/193485013-185e947c-d05c-4677-a49a-87b871fe601b.png)

Whish you like it.

Below are codes of the WAV player, not so much comparing to its functions.

#=================================================
#===This Frame is generated by DRPython ==========
import sys
import os
import tkinter as tk
import numpy as np
from scipy.fftpack import fft,ifft
import matplotlib.pyplot as plt
import numpy as np
import drvi.drviDSP as dsp
import drvi.drviControlls as dr
import drvi.drviSimpleAudio as ply

#=========================================
def setValue2DX(dx,x):
 CH=x.ndim
 if CH==2:x=x[:,0] #if stero, use channel one
 mPlotF.setValue2DX(dx,x)
 mFs=1/dx
 mLen=len(x)
 [mFre,mAmp]=dsp.AmpSpetrum(mLen,mFs,x)
 df=mFs/mLen
 mPlot1F.setValue2DX(df,mAmp)
        
#==Main Window=====================
winDir=os.getcwd()
win= tk.Tk()
sWOld=1920
sHOld=1080
sWidth=win.winfo_screenwidth()
sHeight=win.winfo_screenheight()
wRate=sWidth/sWOld
hRate=sHeight/sHOld
winWidth=int(1100*wRate)
winHeight=int(670*hRate)
x=(sWidth-winWidth)/2;
y=(win.winfo_screenheight()-winHeight)/2
win.geometry("%dx%d+%d+%d" %(winWidth,winHeight,x,y))
win.config(bg="#ddeeee")
win.wm_title('WAV Player')

#==Layout of controls=====================
mLab1=dr.DRLabelX(win,20*wRate,30*hRate,400*wRate,40*hRate,'#445577','#ffffff','WAV Player',20)
dr.DRLabelX(win,20*wRate,80*hRate,1020*wRate,570*hRate,'#003355','#ffffff','',20)
mHBut2=dr.DRHButtonGroup(win,690*wRate,30*hRate,200*wRate,36*hRate,'#006688','#ffffff','Play,Stop',2,0)
mPlay=ply.DRPlay(win,920*wRate,30*hRate,120*wRate,36*hRate,'#002244','#ffffff')
mPlotF=dr.DRPlotFast(win,30*wRate,90*hRate,1000*wRate,280*hRate,'#003355','#000000','#ffffff','#006677','#ffff00',12,0,0.2,-1,1,0,0)
mPlot1F=dr.DRPlotFast(win,30*wRate,365*hRate,1000*wRate,280*hRate,'#003355','#000000','#ffffff','#006677','#ffff00',12,0,6000,0,0.25,0,0)

#==Event stream and Data Stream Bind==========
mHBut2.addCallBackSingle(mPlay.setValueSingle)
mPlay.addCallBack2DX(setValue2DX)

#==Main Loop=====================
win.mainloop()

#==End of APPp=================== 
#=================================================


